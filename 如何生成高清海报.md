# 如何生成高清海报

## 背景

在一些有海报的活动中，经常会有生成海报的需求。对应的产品会经常提出生成的海报很虚，看不清楚。

针对这个问题，有两种情况：

### 使用`html2canvas`

使用html2canvas时，只需要进行如下设置即可：

```js
html2canvas(el, {
    logging: __DEV__ ? true : false,
    useCORS: true,
    scale: 5 // 增加scale属性，表示放大5倍
})
```

若手机屏幕为375，那么制作出来的图片为375x5的尺寸，若想输出固定尺寸，需使用如下方法：

### 不使用`html2canvas`

在制作海报前，我们需要将页面中的一部分区域中的元素进行拖拽、缩放、旋转后生成海报。
这个区域我们称为**舞台**。

这种情况由于不依赖库，而是将现有图片画入`canvas`后再输出图片。

首先，定义好`canvas`的宽高，如期待海报宽度为2000：

```js
// 此处传入的宽高为当前页面中舞台宽高
// 需要计算舞台与期望画布之间的比例
let poster = new Poster({
    width: 375,
    height: 375
})
// 链式调用生成海报
poster.create(2000) // 创建一个2000的画布，高度不固定
      .mixin(this.cells) // 混合舞台中的元件
      .concat([template_canvas]) // 拼接其他canvas
      .border([150]) // 创建150宽度的边框
```


此时，`template_canvas`可能是我们之前通过`html2canvas`生成的部分海报，通过`Poster`类，我们可以将任意`canvas`进行修改，就像流水线一样，直到最后生成海报。

以上为伪代码，具体代码可参考出租双11活动。
